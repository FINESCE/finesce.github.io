[
    {
        "Target Usage": "",
        "Name": "Weather Condition Interface (WeaFor2Orion **) ",
        "Short Description": "",
        "Documentation": {
            "Description": "\n<a name=\"Basic-Concepts\">\n</a>\n\n<h3>\n Basic Concepts\n <a class=\"wiki-anchor\" href=\"#Basic-Concepts\">\n  \u00b6\n </a>\n</h3>\n\n<p>\n The WeaFor2Orion module is a Timer service that provides the marketplace a way to collect weather forecast data from a weather forecasting service (available over the internet) and, then, sends it to an instance of ORION. This module retrieves a set of weather forecast data by the service every five minutes and then writes/updates the values in a set of attributes of a specific ORION entity (which type is \u201cWeather\u201d). The attributes list includes a series of values of temperature, cloud cover and wind speed related to both the current situation and the weather conditions in the next 1, 3, 6, 12 and 24 hours.\n</p>\n\n<a name=\"Basic-Design-Principles\">\n</a>\n\n<h3>\n Basic Design Principles\n <a class=\"wiki-anchor\" href=\"#Basic-Design-Principles\">\n  \u00b6\n </a>\n</h3>\n\n<p>\n Figure 1 shows the WeaFor2Orion domain model. It consists of a Timer class \u201cWeatherTimer\u201d that schedules a TimerTask class \u201cWeaFor2Orion\u201d and two classes \u201cWeatherForecast\u201d (java bean) and \u201cWeatherContextElement\u201d (ContextElement) that respectively represent the attributes of a weather forecast and the ORION entity that will map it.\n</p>\n\n<p style=\"text-align:center;\">\n <img alt=\"\" src=\"images/redmine/weafor2orion_domainModel.png\" style=\"width:800px;\"/>\n <br/>\n <strong>\n  Figure 1: WeaFor2Orion domain model\n </strong>\n</p>\n\n<a name=\"Detailed-Specifications\">\n</a>\n\n",
            "Copyright": "\n<p>\n Copyright \u00a9 2014 by FINESCE\n</p>\n\n<a name=\"Preface\">\n</a>\n\n",
            "Glossary": "\n<a name=\"References\">\n</a>\n\n",
            "References": "\n<p>\n Weather API on the web (\n <a class=\"external\" href=\"https://developer.forecast.io/\">\n  https://developer.forecast.io/\n </a>\n )\n</p>\n\n<a name=\"Contact-Person\">\n</a>\n\n",
            "Details": "\n<a name=\"WeaFor2OrionRest-REST-service\">\n</a>\n\n<h3>\n WeaFor2OrionRest (REST service)\n <a class=\"wiki-anchor\" href=\"#WeaFor2OrionRest-REST-service\">\n  \u00b6\n </a>\n</h3>\n\n<p>\n IMPORTANT: we kindly remind you that this software module is strictly tight to the use of ORION Context Broker GE thus meaning that you should have previously set up an ORION instance of yours. Please have a look at ORION GE documentation at the following link\n <a class=\"external\" href=\"http://catalogue.fi-ware.org/enablers/publishsubscribe-context-broker-orion-context-broker\">\n  http://catalogue.fi-ware.org/enablers/publishsubscribe-context-broker-orion-context-broker\n </a>\n</p>\n\n<p>\n Download the artefact (in the form a .war file) from the bottom of the page.\n <br/>\n Open the .war file (you can use an appropriate software like \u201cwinRar\u201d or \"7zip\"); open the  \u201cweafor2orionrest.properties\u201ds file located in the following directory:  WEB-INF/classes/ and then amend the following configuration properties:\n</p>\n\n<p>\n weafor2orionrest.orionServerUrl =\n <a class=\"external\" href=\"http://(your\">\n  http://(your\n </a>\n ORION instance URL):1026\n <br/>\n weafor2orionrest.registerContexPath = NGSI10/updateContext\n</p>\n\n<p>\n Save the changes to the .properties file and deploy the .war file on a Tomcat application server  using the \u201cTomcat Web Application Manager\u201d (see attached screenshot). We recommend you to use an updated version of Tomcat; we have used Apache Tomcat 7.xx.\n</p>\n\n<p style=\"text-align:center;\">\n <img alt=\"\" src=\"images/redmine/tomcat_deploy_weafor2orionrest.jpg\" style=\"width:800px;\"/>\n <br/>\n <strong>\n  Figure 2: How to the deploy the weafor2orionrest.war file\n </strong>\n</p>\n\n\n\nTo verify that the deploy of the weafor2orion REST application was done successfully and that it consequently runs, you have to type the following URL in a common browser like Google Chrome or Microsoft Internet Explorer: \n\t<ul>\n <li>\n  <a class=\"external\" href=\"http://(your\">\n   http://(your\n  </a>\n  tomcat ip)/weafor2orionrest/rest/sendWeatherData\n </li>\n</ul>\n\n<p>\n and you should get a page like the following (see attached screenshot).\n</p>\n\n<p style=\"text-align:center;\">\n <img alt=\"\" src=\"images/redmine/weather_rest_get.jpg\" style=\"width:800px;\"/>\n <br/>\n <strong>\n  Figure 3: Test \"sendWeatherData\" GET method in a browser\n </strong>\n</p>\n\n<p>\n If the previous pages appears, the weafor2orion REST application is correctly deployed.\n</p>\n\n<p>\n Once retrieved weather forecasts information from a provider of your choice, you can now send it to ORION\n</p>\n\n<a name=\"How-to-send-\u201cWeather-Forecast\u201ds\">\n</a>\n\n<h3>\n How to send \u201cWeather Forecast\u201d(s)\n <a class=\"wiki-anchor\" href=\"#How-to-send-\u201cWeather-Forecast\u201ds\">\n  \u00b6\n </a>\n</h3>\n\n<p>\n Now, in order to send a \u201cWeather Forecast\u201d to ORION, use a REST client such as DHC - REST/HTTP API Client chrome extension (see attached screenshot):\n</p>\n\n<p style=\"text-align:center;\">\n <img alt=\"\" src=\"images/redmine/chrome_W2O_REST_client_screenshot.png\" style=\"width:800px;\"/>\n <br/>\n <strong>\n  Figure 4: Send a \"Weather Forecast\" to ORION\n </strong>\n</p>\n\n<p>\n Please fill in with the following parametres:\n <br/>\n SERVICE (POST)\n <br/>\n <a class=\"external\" href=\"http://(your\">\n  http://(your\n </a>\n tomcat ip)/weafor2orionrest/rest/sendWeatherData\n</p>\n\n<p>\n HEADERS\n <br/>\n Content-Type: application/xml\n</p>\n\n<p>\n BODY\n <br/>\n &lt;weather weatherId=\"\n <em>\n  weather2orion\n </em>\n \"\n <br/>\n currentTemperature=\"\n <em>\n  (current temperature for the location of choice)\n </em>\n \"\n <br/>\n currentCloudCover=\"\n <em>\n  (current value of cloudiness at the location of choice)\n </em>\n \"\n <br/>\n currentWindSpeed=\"\n <em>\n  (current value of wind speed at the location of choice)\n </em>\n \"\n <br/>\n dailySunriseTime=\"\n <em>\n  (sunrise time, UNIX format in seconds, at the location of choice)\n </em>\n \"\n <br/>\n dailySunsetTime=\"\n <em>\n  (sunrise time, UNIX format in seconds, at the location of choice)\n </em>\n \"\n <br/>\n temperatureMin=\"\n <em>\n  (expected min. temperature for the day at the location of choice)\n </em>\n \"\n <br/>\n temperatureMax=\"\n <em>\n  (expected max. temperature for the day at the location of choice)\n </em>\n \"\n <br/>\n after1hTemperature=\"\n <em>\n  (forecast temperature in an hour time at the location of choice)\n </em>\n \"\n <br/>\n after1hCloudCover=\"\n <em>\n  (forecast value of cloudiness in an hour time at the location of choice)\n </em>\n \"\n <br/>\n after1hWindSpeed=\"\n <em>\n  (forecast value of wind speed in an hour time at the location of choice)\n </em>\n \"\n <br/>\n after1hPrecipIntensity=\"\n <em>\n  (forecast value of precipitation intensity in an hour time at the location of choice)\n </em>\n \"\n <br/>\n after1hPrecipProbability=\"\n <em>\n  (forecast value of precipitation probability in an hour time at the location of choice)\n </em>\n \"\n <br/>\n after3hTemperature=\"\n <em>\n  (forecast temperature in three hours time at the location of choice)\n </em>\n \"\n <br/>\n after3hCloudCover=\"\n <em>\n  (forecast value of cloudiness in three hours time at the location of choice)\n </em>\n \"\n <br/>\n after3hWindSpeed=\"\n <em>\n  (forecast value of wind speed in three hours time at the location of choice)\n </em>\n \"\n <br/>\n after3hPrecipIntensity=\"\n <em>\n  (forecast value of precipitation intensity in three hours time at the location of choice)\n </em>\n \"\n <br/>\n after3hPrecipProbability=\"\n <em>\n  (forecast value of precipitation probability in three hours time at the location of choice)\n </em>\n \"\n <br/>\n after6hTemperature=\"\n <em>\n  (forecast temperature in six hours time at the location of choice)\n </em>\n \"\n <br/>\n after6hCloudCover=\"\n <em>\n  (forecast value of cloudiness in six hours time at the location of choice)\n </em>\n \"\n <br/>\n after6hWindSpeed=\"\n <em>\n  (forecast value of wind speed in six hours time at the location of choice)\n </em>\n \"\n <br/>\n after6hPrecipIntensity=\"\n <em>\n  (forecast value of precipitation intensity in six hours time at the location of choice)\n </em>\n \"\n <br/>\n after6hPrecipProbability=\"\n <em>\n  (forecast value of precipitation probability in six hours time at the location of choice)\n </em>\n \"\n <br/>\n after12hTemperature=\"\n <em>\n  (forecast temperature in twelve hours time at the location of choice)\n </em>\n \"\n <br/>\n after12hCloudCover=\"\n <em>\n  (forecast value of cloudiness in twelve hours time at the location of choice)\n </em>\n \"\n <br/>\n after12hWindSpeed=\"\n <em>\n  (forecast value of wind speed in twelve hours time at the location of choice)\n </em>\n \"\n <br/>\n after12hPrecipIntensity=\"\n <em>\n  (forecast value of precipitation intensity in twelve hours time at the location of choice)\n </em>\n \"\n <br/>\n after12hPrecipProbability=\"\n <em>\n  (forecast value of precipitation probability in twelve hours time at the location of choice)\n </em>\n \"\n <br/>\n after24hTemperature=\"\n <em>\n  (forecast temperature in twenty-four hours time at the location of choice)\n </em>\n \"\n <br/>\n after24hCloudCover=\"\n <em>\n  (forecast value of cloudiness in twenty-four hours time at the location of choice)\n </em>\n \"\n <br/>\n after24hWindSpeed=\"\n <em>\n  (forecast value of wind speed in twenty-four hours time at the location of choice)\n </em>\n \"\n <br/>\n after24hPrecipIntensity=\"\n <em>\n  (forecast value of precipitation intensity in twenty-four hours time at the location of choice)\n </em>\n \"\n <br/>\n after24hPrecipProbability=\"\n <em>\n  (forecast value of precipitation probability in twenty-four hours time at the location of choice)\n </em>\n \"\n <br/>\n /&gt;\n</p>\n\n<p>\n and finally click the SEND button.\n</p>\n\n<p>\n If you get 200 OK in the HTTP Response, you should have submitted a \u201cWeather forecast\u201d to ORION.\n</p>\n\n<p>\n To verify that a new \u201cWeather forecast\u201d has been saved into ORION, an entity of the following type should be created (or updated in case it already exists) in the NoSQL DB underlying ORION (i.e. MongoDB):\n{\n <br/>\n \"_id\" : {\n <br/>\n \"id\" : \"weather2orion\",\n <br/>\n \"type\" : \"Weather\"\n <br/>\n },\n <br/>\n \"attrs\" : [{\n <br/>\n \"name\" : \"currentTime\",\n <br/>\n \"type\" : \"sec\",\n <br/>\n \"creDate\" : 1400487442,\n <br/>\n \"value\" : \"1415184597\",\n <br/>\n \"modDate\" : 1415184596\n <br/>\n }, {\n <br/>\n \"name\" : \"currentTemperature\",\n <br/>\n \"type\" : \"centigrade\",\n <br/>\n \"creDate\" : 1400487442,\n <br/>\n \"value\" : \"21.88\",\n <br/>\n \"modDate\" : 1415184596\n <br/>\n }, {\n <br/>\n \"name\" : \"currentWeatherCondition\",\n <br/>\n \"type\" : \"text\",\n <br/>\n \"creDate\" : 1400487442,\n <br/>\n \"value\" : \"Light Rain\",\n <br/>\n \"modDate\" : 1415178597\n <br/>\n }, {\n <br/>\n \"name\" : \"currentCloudCover\",\n <br/>\n \"type\" : \"double\",\n <br/>\n \"creDate\" : 1400487442,\n <br/>\n \"value\" : \"0.76\",\n <br/>\n \"modDate\" : 1415183996\n <br/>\n }, {\n <br/>\n \"name\" : \"currentWindSpeed\",\n <br/>\n \"type\" : \"double\",\n <br/>\n \"creDate\" : 1400487442,\n <br/>\n \"value\" : \"6.12\",\n <br/>\n \"modDate\" : 1415184596\n <br/>\n }, ..............\n <br/>\n .....................\n <br/>\n ......................\n <br/>\n ],\n <br/>\n \"creDate\" :\n <em>\n  (date of entity creation)\n </em>\n ,\n <br/>\n \"modDate\" :\n <em>\n  (date of entity last update)\n </em>\n <br/>\n }\n</p>\n\n<a name=\"WeaFor2Orion-Java-TIMER-client\">\n</a>\n\n<h3>\n WeaFor2Orion (Java TIMER client)\n <a class=\"wiki-anchor\" href=\"#WeaFor2Orion-Java-TIMER-client\">\n  \u00b6\n </a>\n</h3>\n\n<p>\n Download the artefact (in the form a .jar file) from the bottom of the page.\n <br/>\n Open the .war file (you can use an appropriate software like \u201cwinRar\u201d or \"7zip\"); open the \u201cweafor2orionrest.properties\u201ds file located in the following directory: WEB-INF/classes/ and then amend the following configuration properties:\n</p>\n\n<p>\n weafor2oriontimer.orionServerUrl =\n <a class=\"external\" href=\"http://(your\">\n  http://(your\n </a>\n ORION instance URL):1026\n <br/>\n weafor2oriontimer.weatherServerUrl =\n <em class=\"your tomcat ip\" style=\"padding-left:1em;\">\n  :8080/weafor2orionrest/rest)\n </em>\n <br/>\n weafor2oriontimer.serviceKey = (your forecast.io service key)\n</p>\n\n<p>\n Install a java JDK (e.g. 1.6 / 1.7). The\n <strong>\n  weafor2orion\n </strong>\n module contains a java timer class that has to be launched from the command line by using the following:\n</p>\n\n<pre><code>java -jar weafor2orion-0.0.1-SNAPSHOT.jar</code></pre>\n\n<p>\n It retrieves weather forecasts from an external service provider (in our case\n <a class=\"external\" href=\"http://developer.forecast.io\">\n  http://developer.forecast.io\n </a>\n ), parses the data and then submit them to your instance of ORION.\n</p>\n\n<a name=\"AddressProtocol\">\n</a>\n\n<h3>\n Address/Protocol\n <a class=\"wiki-anchor\" href=\"#AddressProtocol\">\n  \u00b6\n </a>\n</h3>\n\n<a name=\"Commands\">\n</a>\n\n<h3>\n Commands\n <a class=\"wiki-anchor\" href=\"#Commands\">\n  \u00b6\n </a>\n</h3>\n\n<a name=\"Endpoints\">\n</a>\n\n<h3>\n Endpoints\n <a class=\"wiki-anchor\" href=\"#Endpoints\">\n  \u00b6\n </a>\n</h3>\n\n<p>\n The base URI to invoke the rest method exposed by WeaFor2OrionRest (REST service) is:\n <br/>\n <a class=\"external\" href=\"http://(your\">\n  http://(your\n </a>\n tomcat ip)/weafor2orionrest/rest/sendWeatherData\n</p>\n\n<p>\n This is a POST method which needs the following parameters to be submitted:\n <br/>\n currentTemperature\n <br/>\n currentCloudCover\n <br/>\n currentWindSpeed\n <br/>\n dailySunriseTime\n <br/>\n dailySunsetTime\n <br/>\n temperatureMin\n <br/>\n temperatureMax\n <br/>\n after1hTemperature\n <br/>\n after1hCloudCover\n <br/>\n after1hWindSpeed\n <br/>\n after1hPrecipIntensity\n <br/>\n after1hPrecipProbability\n <br/>\n after3hTemperature\n <br/>\n after3hCloudCover\n <br/>\n after3hWindSpeed\n <br/>\n after3hPrecipIntensity\n <br/>\n after3hPrecipProbability\n <br/>\n after6hTemperature\n <br/>\n after6hCloudCover\n <br/>\n after6hWindSpeed\n <br/>\n after6hPrecipIntensity\n <br/>\n after6hPrecipProbability\n <br/>\n after12hTemperature\n <br/>\n after12hCloudCover\n <br/>\n after12hWindSpeed\n <br/>\n after12hPrecipIntensity\n <br/>\n after12hPrecipProbability\n <br/>\n after24hTemperature\n <br/>\n after24hCloudCover\n <br/>\n after24hWindSpeed\n <br/>\n after24hPrecipIntensity\n <br/>\n after24hPrecipProbability\n</p>\n\n<a name=\"Re-utilised-TechnologiesSpecifications\">\n</a>\n\n",
            "Preface": "\n<p>\n Within this document you find a self-contained open specification of the aforementioned Domain Specific Enabler (DSE).\n</p>\n\n<p>\n Please consult the appropriate pages on the\n <a class=\"external\" href=\"http://www.finesce.eu/Trial_Site_Terni.html\">\n  FINESCE\n </a>\n website in order to understand the complete context of the related FINESCE trials and this DSE.\n</p>\n\n<a name=\"Terms-and-Definitions\">\n</a>\n\n"
        },
        "WP": "",
        "Terms and Conditions": "",
        "Open Source": "",
        "Contact Person": "",
        "Overview": "\n<a name=\"What-you-get\">\n</a>\n\n<h3>\n What you get\n <a class=\"wiki-anchor\" href=\"#What-you-get\">\n  \u00b6\n </a>\n</h3>\n\n\n\nWeaFor2Orion consists of:\n\t<ul>\n <li>\n  a REST service (developed in Java) which allow clients (e.g. Weather Condition Information Providers) to register data about weather conditions and predictions in a specific area into an instance of ORION Context Broker GE;\n </li>\n <li>\n  a Java TIMER client which retrieves (every five minutes) weather conditions and predictions from an external provider (\n  <a class=\"external\" href=\"https://developer.forecast.io/\">\n   https://developer.forecast.io/\n  </a>\n  in our implementation) and then \u201cpasses\u201d the data to the above mentioned REST service.\n </li>\n</ul>\n\n<a name=\"Why-to-get-it\">\n</a>\n\n<h3>\n Why to get it\n <a class=\"wiki-anchor\" href=\"#Why-to-get-it\">\n  \u00b6\n </a>\n</h3>\n\n<p>\n A reference implementation of a TIMER client which retrieves weather conditions and predictions from an external provider.\n <br/>\n A reference implementation of a REST service which is connected to the ORION GE.\n</p>\n\n<a name=\"Open-Specifications\">\n</a>\n\n<h3>\n Open Specifications\n <a class=\"wiki-anchor\" href=\"#Open-Specifications\">\n  \u00b6\n </a>\n</h3>\n\n<a name=\"Target-Usage\">\n</a>\n\n<h3>\n Target Usage\n <a class=\"wiki-anchor\" href=\"#Target-Usage\">\n  \u00b6\n </a>\n</h3>\n\n<ul>\n <li>\n  Weather Condition Information Providers (which may be appointed by energy companies that would need information on weather conditions and forecasts in a specific area)\n </li>\n <li>\n  Third-party applications (such as those developed by SMEs involved in Phase3)\n </li>\n</ul>\n\n<a name=\"DSE-Description\">\n</a>\n\n",
        "Downloads": "",
        "Instances": ""
    }
]