<!DOCTYPE html>
<html class="js" lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <!-- Bootstrap -->
    <link href="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet">

    <!-- include javascript, jQuery FIRST -->
    <!-- 	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script> -->
    <!-- 	<script src="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script> -->

    <!-- 	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script> -->
    <!-- 	<script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script> -->
    <!-- 	<link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css"> -->
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
    <!--     <script src="../../dist/js/bootstrap.min.js"></script> -->
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <!--     <script src="../../assets/js/ie10-viewport-bug-workaround.js"></script> -->

    <!-- Latest compiled and minified CSS -->
    <!-- 	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.ss"> -->

    <!-- Optional theme -->
    <!-- 	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap-theme.min.css"> -->

    <!-- FIWARE font -->
    <link href='http://fonts.googleapis.com/css?family=Comfortaa' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="../css/userstyles.css" media="screen">
    <link rel="stylesheet" href="../css/fiware.css">
</head>

<body>
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="/">FINESCE</a>
            </div>
            <div id="navbar" class="navbar-collapse collapse">
                <ul class="nav navbar-nav">
                    <li class="active">Home</li>
                    <li><a href="../FINESCE_GEs.html">Generic Enablers</a>
                    </li>
                    <li><a href="../FINESCE_DSEs.html">Specific Enablers</a>
                    </li>
                </ul>
            </div>
            <!--/.navbar-collapse -->
        </div>
    </nav>

    <article>
        <div class="container">
            <!-- <section class="span12"> -->
            <a id="main-content"></a>
            <div class="page-header">
                <h1 class="enabler-title">&nbsp;</h1>
            </div>
            <div>
                <ul class="nav-docs-header finesce-subpages">
                    <li class="nav-docs-header">
                    <a class="nav-docs-header" href="Overview">Overview</a>
                    </li>
                    <li><a href="Documentation">Documentation</a>
                    </li>
                    <li><a href="Downloads">Downloads</a>
                    </li>
                    <li><a href="Instances">Instances</a>
                    </li>
                    <li><a href="Terms">Terms and conditions</a>
                    </li>
                </ul>
            </div>
            <div class="center-wrapper">
                <div class="center-left-wrapper">
                    <div class="left-info-block">
                        <div class="panel-pane pane-views-panes pane-api-details-pane-panel-pane-1 block">



                            <div class="pane-content">
                                <div class="view view-api-details-pane view-id-api_details_pane view-display-id-panel_pane_1 view-dom-id-6cbc0a1b7dc7dbdc1400b2bcf82003d4">



                                    <div class="view-content">
                                        <div class="views-row views-row-1 views-row-odd views-row-first views-row-last">

                                            <!-- <div class="views-field views-field-field-api-icon">
                                                <div class="field-content">
                                                    <img typeof="foaf:Image" src="http://catalogue.fitman.atosresearch.eu/sites/default/files/styles/enabler_icon_large/public/default_images/500px-No_image.svg.png?itok=Jk5dc53o" alt="" />
                                                </div>
                                            </div> -->
                                            <!-- <div class="views-field views-field-field-api-chapter">
                                                <strong class="views-label views-label-field-api-chapter">Factory
													Domain: </strong>
                                                <div class="field-content">Digital Factory</div>
                                            </div>
                                            <div class="views-field views-field-field-api-version">
                                                <strong class="views-label views-label-field-api-version">Version:
												</strong>
                                                <div class="field-content"></div>
                                            </div>
                                            <div class="views-field views-field-changed">
                                                <strong class="views-label views-label-changed">Updated:
												</strong>
                                                <div class="field-content">2014-10-13</div>
                                            </div> -->
                                            <div class="views-field views-field-field-api-contact-person">
                                                <strong class="views-label views-label-field-api-contact-person">Contact
													Person: <span class="contact-person"></span></strong>
                                                <div class="field-content"></div>
                                            </div>
                                            <div class="views-field views-field-field-api-contact-details">
                                                <div class="field-content">
                                                    <p>
                                                        <span class="spamspan"></span>
                                                    </p>
                                                    <script type="text/javascript" src="http://jira-fitman.atosresearch.eu/s/d41d8cd98f00b204e9800998ecf8427e/en_US5owebz-1988229788/6252/28/1.4.7/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?collectorId=c0224122"></script>
                                                </div>
                                            </div>
                                        </div>
                                    </div>






                                </div>
                            </div>


                        </div>
                    </div>
                </div>


                <div class="center-right-wrapper">
                    <div class="right-content-block">
                        <div class="panel-pane pane-node-content">



                            <div class="pane-content">
                                <article id="node-574" class="node node-enabler-sub-page clearfix" about="/enablers/3dscan/documentation" typeof="sioc:Item foaf:Document">


                                    <header> </header>


                                    <div class="field field-name-body field-type-text-with-summary field-label-hidden">
                                        <div class="field-items">
                                            <div id="content-wiki" class="field-item even" property="content:encoded"></div>
                                        </div>
                                    </div>
                                </article>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- 			</section> -->
                <footer class="footer">
                    <ul class="nav-docs-header">
                        <li>
                            <a href="http://www.fi-ppp.eu/" title="">Future Internet PPP</a>
                        </li>
                        <li>
                            <a href="http://www.fi-ware.eu" title="Visit the main site of the FI-WARE project.">FI-WARE site</a>
                        </li>
                        <li>
                            <a href="http://www.finesce.eu/" title="Main FINESCE Site">Main FINESCE site</a>
                        </li>
                    </ul>
                </footer>
            </div>
    </article>

    <script>
    "use strict";

    /* global $, console*/
    function buildHTMLforPage(dse_data, part) {
        if (part == "Documentation") {
            return "<h2>Copyright</h2>" + dse_data.Documentation.Copyright +
                "<h2>Preface</h2>" + dse_data.Documentation.Preface +
                "<h2>DSE Description</h2>" + dse_data.Documentation.Description +
                "<h2>Detailed Specifications</h2>" + dse_data.Documentation.Details +
                "<h2>Glossary</h2>" + dse_data.Documentation.Glossary +
                "<h2>References</h2>" + dse_data.Documentation.References;
        } else if (part == "Downloads") {
            return dse_data.Downloads;
        } else if (part == "Instances") {
            return dse_data.Instances;
        } else if (part == "Terms") {
            return dse_data["Terms and Conditions"];
        } else {
            return "<h2>Overview</h2>" + dse_data.Overview + "<h2>Target Usage</h2>" + dse_data["Target usage"];
        }
    }

    function getParameterByName(name) {
        name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
        var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
            results = regex.exec(location.search);
        return results === null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
    }

    function insertOrUpdateShow (link) {
        var show = $(link).attr('href');
        var path = document.location;
        // location.href.replace("page="+currentPageNum, "page="+newPageNum);
        var search = path.search.toString().replace(/&show=[a-zA-Z]+/gi, '');
        return path.pathname + search + '&show=' + show;
    }
    $(document).ready(function() {
        var id = getParameterByName("id");
        var show = getParameterByName("show");

        // console.log("Parameters: " + id + " " + show);
        $.getJSON("js/json/DSEs.json", function(data) {
            var dse_data = data.filter(function(dt) {
                return dt.id === id;
            });
            dse_data = dse_data ? dse_data[0] : false;

            if (dse_data) {
                $(".enabler-title").text(dse_data.name);
                $.getJSON("js/json/" + id + ".json").then(function(dse_data_all) {
                    var data = dse_data_all[0];
                    $("#content-wiki").html(buildHTMLforPage(data, show));
                    $(".conact-person").html(data["Contact Person"]);

                    $(".finesce-subpages a").each(function(){
                        $(this).attr("href", insertOrUpdateShow(this));
                    });
                });
            } else {
                $(".enabler-title").text("404 - Not Found");
                $("#content-wiki").html("<h2>404 - Not Found</h2>");
            }
        });
    });
    </script>
</body>

</html>
